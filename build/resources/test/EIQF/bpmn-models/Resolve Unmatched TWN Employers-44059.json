{"resourceId":44059,"properties":{"process_id":"ResolveUnmatchedTWNEmployers","name":"Resolve Unmatched TWN Employers","documentation":"Match requested employments to TWN employers that were not automatically  matched.","process_author":"","process_version":"","process_namespace":"http://www.activiti.org/processdef","executionlisteners":"{\"executionListeners\":[]}","eventlisteners":"{\"eventListeners\":[]}","signaldefinitions":"[]","messagedefinitions":"[]","executionvariables":"[{\"variableName\":\"employerName\",\"variableType\":\"string\"},{\"variableName\":\"phoneNumber\",\"variableType\":\"string\"},{\"variableName\":\"address1\",\"variableType\":\"string\"},{\"variableName\":\"address2\",\"variableType\":\"string\"},{\"variableName\":\"city\",\"variableType\":\"string\"},{\"variableName\":\"state\",\"variableType\":\"string\"},{\"variableName\":\"applicantRefId\",\"variableType\":\"string\"},{\"variableName\":\"twnEmploymentId\",\"variableType\":\"string\"},{\"variableName\":\"employmentRefId\",\"variableType\":\"string\"},{\"variableName\":\"unmatchedTWNEmployment\",\"variableType\":\"string\"},{\"variableName\":\"requestid\",\"variableType\":\"string\"},{\"variableName\":\"loannumber\",\"variableType\":\"string\"},{\"variableName\":\"customerName\",\"variableType\":\"string\"},{\"variableName\":\"requesterEmail\",\"variableType\":\"string\"},{\"variableName\":\"requester\",\"variableType\":\"string\"},{\"variableName\":\"applicantsNeedManualMatch\",\"variableType\":\"string\"},{\"variableName\":\"needsManualMatch\",\"variableType\":\"string\"},{\"variableName\":\"countryName\",\"variableType\":\"string\"},{\"variableName\":\"dateCreated\",\"variableType\":\"string\"}]","metadata":""},"stencil":{"id":"BPMNDiagram"},"childShapes":[{"resourceId":"startEvent1","properties":{"overrideid":"startEvent1","name":"","documentation":"","executionlisteners":{"executionListeners":[]},"initiator":"","formkeydefinition":"","formreference":"","fieldstovariables":"","formproperties":"","asynchronousdefinition":false,"exclusivedefinition":false},"stencil":{"id":"StartNoneEvent"},"childShapes":[],"outgoing":[{"resourceId":"sid-3F3BE9F4-3F9C-41A6-9148-A4B4637225DE"}],"bounds":{"lowerRight":{"x":60,"y":175},"upperLeft":{"x":30,"y":145}},"dockers":[]},{"resourceId":"sid-3F3BE9F4-3F9C-41A6-9148-A4B4637225DE","properties":{"overrideid":"sid-3F3BE9F4-3F9C-41A6-9148-A4B4637225DE","name":"","documentation":"","conditionsequenceflow":"","executionlisteners":{"executionListeners":[]},"defaultflow":"false"},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-24AD82F2-AB6D-4336-BA9E-BB4A74111EF9"}],"bounds":{"lowerRight":{"x":149.3515625,"y":160},"upperLeft":{"x":60.53125,"y":160}},"dockers":[{"x":15,"y":15},{"x":50,"y":40}],"target":{"resourceId":"sid-24AD82F2-AB6D-4336-BA9E-BB4A74111EF9"}},{"resourceId":"sid-1976F97A-766F-4F59-8730-E16385145B23","properties":{"overrideid":"sid-1976F97A-766F-4F59-8730-E16385145B23","name":"","documentation":"","executionlisteners":{"executionListeners":[]},"asynchronousdefinition":false,"exclusivedefinition":false},"stencil":{"id":"EndNoneEvent"},"childShapes":[],"outgoing":[],"bounds":{"lowerRight":{"x":898,"y":174},"upperLeft":{"x":870,"y":146}},"dockers":[]},{"resourceId":"sid-B43ECA0B-F3AB-4F4C-ADC8-A5513E30BE8B","properties":{"overrideid":"matchEmployerToTwn","name":"Match Employer to TWN","documentation":"","asynchronousdefinition":false,"exclusivedefinition":false,"executionlisteners":{"executionListeners":[]},"multiinstance_type":"None","multiinstance_cardinality":"","multiinstance_collection":"","multiinstance_variable":"","multiinstance_condition":"","isforcompensation":false,"usertasksendemail":true,"usertaskassignment":{"assignment":{"type":"idm","idm":{"type":"groups","candidateGroups":[{"id":1002,"name":"VOE Processor","$$hashKey":"object:2157"},{"id":1003,"name":"VOE Supervisor","externalId":null,"status":"active","groups":null,"$$hashKey":"object:2168"}]},"initiatorCanCompleteTask":false}},"formkeydefinition":"","formreference":{"id":44044,"name":"Match TWN Employments"},"fieldstovariables":"","duedatedefinition":{"duedate":{"fixed":{"years":0,"months":0,"days":0,"hours":0,"minutes":30,"seconds":0}}},"prioritydefinition":"","categorydefinition":"","formproperties":"","tasklisteners":{"taskListeners":[]},"emailtemplate":""},"stencil":{"id":"UserTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-1687BFE6-DF22-481E-AB8B-DEEAE4A7FBA2"}],"bounds":{"lowerRight":{"x":580,"y":200},"upperLeft":{"x":480,"y":120}},"dockers":[]},{"resourceId":"sid-24AD82F2-AB6D-4336-BA9E-BB4A74111EF9","properties":{"scriptformat":"javascript","scripttext":"print(\"Unmatched Employment....\");\nprint(execution.getVariable(\"unmatchedTWNEmployment\"));\n\nvar emp = JSON.parse(unmatchedTWNEmployment);\nexecution.setVariable(\"applicantRefId\",emp.applicantRefId);\nexecution.setVariable(\"employmentRefId\",emp.employmentRefId);\nexecution.setVariable(\"employerName\",emp.employerName);\nexecution.setVariable(\"phoneNumber\",emp.phone);\nexecution.setVariable(\"address1\",emp.address1);\nexecution.setVariable(\"address2\",emp.address2);\nexecution.setVariable(\"city\",emp.city);\nexecution.setVariable(\"state\",emp.state);\nexecution.setVariable(\"countryName\",emp.countryName);\n\nvar applicantsNeedManualMatch = execution.getVariable(\"applicantsNeedManualMatch\");\nprint(\"Applicant Need Manual Match...\");\nprint(applicantsNeedManualMatch);\nvar applicantIds = applicantsNeedManualMatch.split(',');\nexecution.setVariable(\"needsManualMatch\", (applicantIds.indexOf(emp.applicantRefId) > -1));\nprint(applicantIds.indexOf(emp.applicantRefId) > -1);","executionvariables":"","overrideid":"setEmploymentValues","name":"Set Employment Values","documentation":"","asynchronousdefinition":false,"exclusivedefinition":false,"executionlisteners":{"executionListeners":[]},"multiinstance_type":"None","multiinstance_cardinality":"","multiinstance_collection":"","multiinstance_variable":"","multiinstance_condition":"","isforcompensation":false},"stencil":{"id":"ScriptTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-6E00D6A1-A79B-4DC4-8BC1-01C77EA9EB6B"}],"bounds":{"lowerRight":{"x":250,"y":200},"upperLeft":{"x":150,"y":120}},"dockers":[]},{"resourceId":"sid-1687BFE6-DF22-481E-AB8B-DEEAE4A7FBA2","properties":{"overrideid":"sid-1687BFE6-DF22-481E-AB8B-DEEAE4A7FBA2","name":"","documentation":"","conditionsequenceflow":"","executionlisteners":{"executionListeners":[]},"defaultflow":"false"},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-05455AAE-B851-4B48-8EA3-B5DFD5D8B0E4"}],"bounds":{"lowerRight":{"x":645.015625,"y":160},"upperLeft":{"x":580.5703125,"y":160}},"dockers":[{"x":50,"y":40},{"x":20,"y":20}],"target":{"resourceId":"sid-05455AAE-B851-4B48-8EA3-B5DFD5D8B0E4"}},{"resourceId":"sid-05455AAE-B851-4B48-8EA3-B5DFD5D8B0E4","properties":{"overrideid":"foundMatch","name":"Found Match?","documentation":"","asynchronousdefinition":false,"exclusivedefinition":false,"sequencefloworder":"","executionlisteners":{"executionListeners":[]}},"stencil":{"id":"ExclusiveGateway"},"childShapes":[],"outgoing":[{"resourceId":"sid-D24DD78B-E5AB-4F31-BE05-24BA3C3B0A11"},{"resourceId":"sid-FEDC8694-082C-41CB-ABA5-620364E15F76"}],"bounds":{"lowerRight":{"x":685,"y":180},"upperLeft":{"x":645,"y":140}},"dockers":[]},{"resourceId":"sid-6FADCD3F-AF2B-4DDE-97D6-D764C82A883C","properties":{"overrideid":"saveEmployerPairing","name":"Save Employer Pairing","documentation":"","restcalltask_endpoint":{"rest_url":"api/product-requests/${requestid}/applicant/${applicantRefId}/employment/${employmentRefId}/${twnEmploymentId}","http_method":"PUT","endpoint_config":{"id":"1","name":"MUS Services"}},"restcalltask_request_mapping":[],"restcalltask_response_mapping":[],"restcalltask_request_headers":[],"servicetaskfields":{"fields":[{"name":"baseEndpoint","stringValue":"1"},{"name":"baseEndpointName","stringValue":"MUS Services"},{"name":"restUrl","stringValue":"api/product-requests/${requestid}/applicant/${applicantRefId}/employment/${employmentRefId}/${twnEmploymentId}"},{"name":"httpMethod","stringValue":"PUT"}]},"executionlisteners":{"executionListeners":[]},"isforcompensation":false,"asynchronousdefinition":true,"exclusivedefinition":true},"stencil":{"id":"RestCallTask"},"childShapes":[],"outgoing":[{"resourceId":"sid-1A169875-049C-4A96-9A7E-50FDC4D3A057"}],"bounds":{"lowerRight":{"x":835,"y":315},"upperLeft":{"x":735,"y":235}},"dockers":[]},{"resourceId":"sid-1A169875-049C-4A96-9A7E-50FDC4D3A057","properties":{"overrideid":"sid-1A169875-049C-4A96-9A7E-50FDC4D3A057","name":"","documentation":"","conditionsequenceflow":"","executionlisteners":{"executionListeners":[]},"defaultflow":"false"},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-1976F97A-766F-4F59-8730-E16385145B23"}],"bounds":{"lowerRight":{"x":884,"y":275},"upperLeft":{"x":835.5,"y":174.4765625}},"dockers":[{"x":50,"y":40},{"x":884,"y":275},{"x":14,"y":14}],"target":{"resourceId":"sid-1976F97A-766F-4F59-8730-E16385145B23"}},{"resourceId":"sid-D24DD78B-E5AB-4F31-BE05-24BA3C3B0A11","properties":{"overrideid":"sid-D24DD78B-E5AB-4F31-BE05-24BA3C3B0A11","name":"No","documentation":"","conditionsequenceflow":"","executionlisteners":{"executionListeners":[]},"defaultflow":true},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-1976F97A-766F-4F59-8730-E16385145B23"}],"bounds":{"lowerRight":{"x":869.3125,"y":160},"upperLeft":{"x":684.8203125,"y":160}},"dockers":[{"x":20,"y":20},{"x":14,"y":14}],"target":{"resourceId":"sid-1976F97A-766F-4F59-8730-E16385145B23"}},{"resourceId":"sid-FEDC8694-082C-41CB-ABA5-620364E15F76","properties":{"overrideid":"sid-FEDC8694-082C-41CB-ABA5-620364E15F76","name":"Yes","documentation":"","conditionsequenceflow":{"expression":{"index":"0","outcomeFormId":"44044","outcomeFormName":"Match TWN Employments","rightOutcomeName":"Save Match","operator":"==","type":"variables"}},"executionlisteners":{"executionListeners":[]},"defaultflow":"false"},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-6FADCD3F-AF2B-4DDE-97D6-D764C82A883C"}],"bounds":{"lowerRight":{"x":734.51953125,"y":275},"upperLeft":{"x":665.0863790349928,"y":179.86717804833816}},"dockers":[{"x":20,"y":20},{"x":665.5,"y":275},{"x":50,"y":40}],"target":{"resourceId":"sid-6FADCD3F-AF2B-4DDE-97D6-D764C82A883C"}},{"resourceId":"sid-21003A88-2A8E-466B-AD14-26B889BDE71A","properties":{"overrideid":"sid-B57549C4-7BAF-4C31-A77E-25DA8CAF55C4","name":"Manual Match?","documentation":"","asynchronousdefinition":false,"exclusivedefinition":false,"sequencefloworder":"","executionlisteners":{"executionListeners":[]}},"stencil":{"id":"ExclusiveGateway"},"childShapes":[],"outgoing":[{"resourceId":"sid-48C7B266-A5B0-42E3-AB8F-5E85CC0D7DD8"},{"resourceId":"sid-88D5E240-0D59-4BAA-8AF2-987569200FBA"}],"bounds":{"lowerRight":{"x":385,"y":180},"upperLeft":{"x":345,"y":140}},"dockers":[]},{"resourceId":"sid-6E00D6A1-A79B-4DC4-8BC1-01C77EA9EB6B","properties":{"overrideid":"sid-BD338032-B642-430E-A29A-612750C4ECD4","name":"","documentation":"","conditionsequenceflow":"","executionlisteners":{"executionListeners":[]},"defaultflow":"false"},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-21003A88-2A8E-466B-AD14-26B889BDE71A"}],"bounds":{"lowerRight":{"x":344.6640625,"y":160},"upperLeft":{"x":250.62890625,"y":160}},"dockers":[{"x":50,"y":40},{"x":20,"y":20}],"target":{"resourceId":"sid-21003A88-2A8E-466B-AD14-26B889BDE71A"}},{"resourceId":"sid-48C7B266-A5B0-42E3-AB8F-5E85CC0D7DD8","properties":{"overrideid":"sid-C157D8D1-E6B8-47FD-A03C-1330DE5F46BE","name":"No","documentation":"","conditionsequenceflow":"","executionlisteners":{"executionListeners":[]},"defaultflow":true},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-1976F97A-766F-4F59-8730-E16385145B23"}],"bounds":{"lowerRight":{"x":884,"y":146},"upperLeft":{"x":365.09855763674636,"y":56}},"dockers":[{"x":20,"y":20},{"x":365.5,"y":56},{"x":884,"y":56},{"x":14,"y":14}],"target":{"resourceId":"sid-1976F97A-766F-4F59-8730-E16385145B23"}},{"resourceId":"sid-88D5E240-0D59-4BAA-8AF2-987569200FBA","properties":{"overrideid":"sid-88D5E240-0D59-4BAA-8AF2-987569200FBA","name":"Yes","documentation":"","conditionsequenceflow":{"expression":{"index":"0","leftRestResponseId":"needsManualMatch","rightValue":"true","operator":"==","type":"variables"}},"executionlisteners":{"executionListeners":[]},"defaultflow":"false"},"stencil":{"id":"SequenceFlow"},"childShapes":[],"outgoing":[{"resourceId":"sid-B43ECA0B-F3AB-4F4C-ADC8-A5513E30BE8B"}],"bounds":{"lowerRight":{"x":479.37109375,"y":160},"upperLeft":{"x":385.3359375,"y":160}},"dockers":[{"x":20,"y":20},{"x":50,"y":40}],"target":{"resourceId":"sid-B43ECA0B-F3AB-4F4C-ADC8-A5513E30BE8B"}}],"bounds":{"lowerRight":{"x":1200,"y":1050},"upperLeft":{"x":0,"y":0}},"stencilset":{"url":"stencilsets/bpmn2.0/bpmn2.0.json","namespace":"http://b3mn.org/stencilset/bpmn2.0#"},"ssextensions":[]}